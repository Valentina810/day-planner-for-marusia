# Схема диалога

https://miro.com/app/board/uXjVMBAr0bg=/?share_link_id=84728232957

<img width="1041" alt="Снимок экрана 2023-10-10 в 21 29 15" src="https://github.com/Valentina810/week-planner-for-marusia/assets/83814517/2bf6457f-0112-4607-8e0f-6a2f8b71c447">

# Бэклог

- [X] Добавить обработку WeeklyPlan https://github.com/Valentina810/week-planner-for-marusia/pull/8
- [X] Добавить юнит-тесты на WeeklyPlan https://github.com/Valentina810/week-planner-for-marusia/pull/14
- [ ] В Enum добавить все экшены, каждому экшену сопоставить токены (слова во фразе)
- [X] Добавить обработку PlanToday https://github.com/Valentina810/week-planner-for-marusia/pull/20
- [X] Добавить юнит-тесты на PlanToday https://github.com/Valentina810/week-planner-for-marusia/pull/21
- [ ] Разделить логику работы с хранилищем: создание, если оно не заполнено и получение если оно заполнено
- [X] Добавить обработку PlanForTomorrow
- [ ] Добавить юнит-тесты на PlanForTomorrow
- [ ] Добавить обработку Unknown
- [ ] Добавить юнит-тесты на Unknown
- [ ] Добавить обработку Exit
- [ ] Добавить юнит-тесты на Exit
- [ ] Добавить обработку Faq
- [ ] Добавить юнит-тесты на Faq
- [ ] Добавить обработку AddEvent
- [ ] Добавить юнит-тесты на AddEvent
- [ ] Сквозные тесты на контроллер и сервис
- [ ] При первом обращении к навыку ("message_id":0) выполнять обновление расписания: первый день недели - сегодня,
  остальные дни дозаполнить и добавить в конец, не затирая при этом уже добавленные события (если они есть)

# Фичи на развитие:

- [X] в автотесты добавить параметризацию (где 3 и более теста)
- [ ] добавить чтобы в session_state не затирались другие данные, если они там есть (нужно ли если будет перенос в бд?)
- [ ] добавить экшен "расскажи план на <любой день недели>"
- [ ] добавить получение данных порциями при озвучивании плана на неделю. Например, озвучить 3 события, сообщить "У вас на
  этой неделе ешё 5 событий, называть дальше?"
- [ ] добавить обработку команды с учетом вхождения: если в тексте от пользователя найдены все совпадающие во фразе токены (
  в любой последовательности) - то распознавать фразу как команду, игнорируя остальной текст
- [ ] добавить экшен DeleteEvent - удаление события
- [ ] перенести хранение событий в БД MongoDB (пример: в ответе приходит user_id и auth_token, продумать как хранить, как
  связать)
- [ ] добавить подробное логирование и сохранение логов в файл


